<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Glowx Salon | Smart Assistant</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;
  font-family:'Poppins',Arial,sans-serif;
  background:#000;
  color:#fff;
  box-sizing:border-box;
}

/* CHATBOT BUTTON */
#chatbot-btn{
  position:fixed;
  bottom:22px;
  right:22px;
  font-size:22px;
  padding:14px;
  border-radius:50%;
  cursor:pointer;
  z-index:9999;
  background:linear-gradient(135deg,#c9a24d,#f5d27a);
  color:#000;
  box-shadow:0 0 20px rgba(0,0,0,.3);
}

/* CHATBOX */
#chatbot{
  position:fixed;
  bottom:90px;
  right:22px;
  width:340px;
  max-width:90%;
  border-radius:16px;
  display:none;
  flex-direction:column;
  background:#050505;
  box-shadow:0 0 35px rgba(0,0,0,.25);
  z-index:9999;
  overflow:hidden;
}

/* HEADER */
.chat-header{
  padding:14px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-weight:600;
  background:#111;
  color:#c9a24d;
}

.chat-header button{
  background:none;
  border:none;
  color:#fff;
  font-size:18px;
  cursor:pointer;
}

/* CHAT BODY */
.chat-body{
  padding:14px;
  height:320px;
  overflow-y:auto;
  font-size:14px;
  display:flex;
  flex-direction:column-reverse; /* latest messages at bottom */
  gap:8px;
  word-wrap: break-word;
  word-break: break-word;
}

/* MESSAGES */
.msg{
  max-width:85%;
  margin-bottom:12px;
  padding:10px 12px;
  border-radius:10px;
  line-height:1.4;
  word-wrap: break-word;
  word-break: break-word;
  position: relative;
  cursor: pointer;
  transition: background 0.2s;
}

.msg:hover{
  background: rgba(255,255,255,0.05);
}

/* MESSAGE OPTIONS */
.msg-options{
  display:none;
  position:absolute;
  top:2px;
  right:2px;
  background:#333;
  color:#fff;
  font-size:12px;
  border-radius:4px;
  padding:2px 5px;
  gap:4px;
  flex-wrap:wrap;
}
.msg:hover .msg-options{
  display:flex;
}
.msg-options button{
  background:none;
  border:none;
  color:#fff;
  cursor:pointer;
  font-size:12px;
}

/* BOT / USER */
.bot{
  background:#111;
  color:#c9a24d;
}
.user{
  background:#c9a24d;
  color:#000;
  margin-left:auto;
}

/* TYPING INDICATOR */
.typing{
  font-size:12px;
  opacity:.7;
  margin-bottom:8px;
}

/* QUICK BUTTONS */
.quick-btns{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin-bottom:10px;
}
.quick-btns button{
  border-radius:20px;
  padding:6px 12px;
  font-size:12px;
  cursor:pointer;
  background:#1a1a1a;
  color:#c9a24d;
  border:1px solid #333;
  transition: all 0.2s;
}
.quick-btns button:hover{
  transform:scale(1.05);
}

/* FOOTER */
.chat-footer{
  display:flex;
  padding:10px;
  gap:6px;
  background:#111;
}
.chat-footer input{
  flex:1;
  padding:9px;
  border:none;
  border-radius:8px;
  outline:none;
}
.chat-footer button{
  border:none;
  padding:9px 14px;
  border-radius:8px;
  cursor:pointer;
  background:#c9a24d;
  color:#000;
  transition: all 0.2s;
}
.chat-footer button:hover{
  opacity:0.9;
}

/* RESPONSIVE */
@media(max-width:400px){
  #chatbot{
    width:90%;
    bottom:80px;
  }
  .chat-body{
    height:280px;
    font-size:13px;
  }
  .chat-footer input{
    padding:8px;
  }
  .chat-footer button{
    padding:8px 10px;
  }
}
</style>
</head>
<body>
<section style="padding:70px;text-align:center">
  <h1 style="color:#c9a24d">Glowx Salon</h1>
  <p>Luxury ‚Ä¢ Modern ‚Ä¢ Professional Experience</p>
</section>

<div id="chatbot-btn">üí¨</div>

<div id="chatbot">
  <div class="chat-header">
    <span>Glowx Smart Assistant ‚ú®</span>
    <button onclick="toggleChat()">‚úï</button>
  </div>

  <div class="chat-body" id="chatBody">
    <div class="msg bot">
      Welcome to <b>Glowx Salon</b> üíñ<br>
      I am your personal beauty assistant.<br>
      Ask anything in English, Roman Urdu, or Urdu.
      <div class="msg-options">
        <button onclick="editMsg(this)">‚úèÔ∏è Edit</button>
        <button onclick="copyMsg(this)">üìã Copy</button>
        <button onclick="replyMsg(this)">‚Ü©Ô∏è Reply</button>
      </div>
    </div>

    <div class="quick-btns">
      <button onclick="quick('services')">üíá Services</button>
      <button onclick="quick('price')">üí∞ Price</button>
      <button onclick="quick('bridal')">üë∞ Bridal</button>
      <button onclick="quick('appointment')">üìÖ Book</button>
      <button onclick="quick('branch')">üìç Branch</button>
      <button onclick="quick('offers')">üéÅ Offers</button>
      <button onclick="quick('contact')">üìû Contact</button>
      <button onclick="quick('time')">‚è∞ Time</button>
    </div>
  </div>

  <div class="chat-footer">
    <input id="userInput" placeholder="Type your question..." />
    <button onclick="send()">Send</button>
  </div>
</div>

<script>
const bot = document.getElementById("chatbot");
const body = document.getElementById("chatBody");
const input = document.getElementById("userInput");

document.getElementById("chatbot-btn").onclick = toggleChat;
function toggleChat(){ bot.style.display = bot.style.display==='flex'?'none':'flex'; }

function quick(text){ input.value=text; send(); }

function send(){
  let msg=input.value.trim(); if(!msg) return;

  body.insertAdjacentHTML('afterbegin', `<div class="msg user">${msg}
    <div class="msg-options">
      <button onclick="editMsg(this)">‚úèÔ∏è Edit</button>
      <button onclick="deleteMsg(this,true)">üóëÔ∏è Delete</button> <!-- user-only delete -->
      <button onclick="copyMsg(this)">üìã Copy</button>
      <button onclick="replyMsg(this)">‚Ü©Ô∏è Reply</button>
    </div>
  </div>`);

  input.value="";
  typing();
  setTimeout(()=>reply(msg.toLowerCase()),700);
}

function typing(){
  body.insertAdjacentHTML('afterbegin', `<div class="typing">Assistant is typing...</div>`);
}

function reply(msg){
  document.querySelector(".typing")?.remove();

  const replies=[
    {keywords:["hi","hello","assalam"], reply:"Hello! Welcome to Glowx Salon ‚ú® How can I assist you today?"},
    {keywords:["service"], reply:"üíá Services Offered:<br>‚Ä¢ Hair Styling & Color<br>‚Ä¢ Facials & Skin Care<br>‚Ä¢ Makeup & Bridal Packages<br>‚Ä¢ Hair Spa & Treatments"},
    {keywords:["price","rate"], reply:"üí∞ Prices:<br>‚Ä¢ Haircut: PKR 1,500<br>‚Ä¢ Facial: PKR 2,000<br>‚Ä¢ Makeup: PKR 4,000<br>‚Ä¢ Bridal: PKR 25,000"},
    {keywords:["time","current time","kya waqt hai"], reply:`üïí Current Time: ${new Date().toLocaleTimeString()}`}, // time reply
    {keywords:["bridal","wedding"], reply:"üë∞ Bridal Services:<br>Luxury Bridal Makeup<br>Hair Styling & Trial<br>Advance booking recommended"},
    {keywords:["book","appointment"], reply:"üìÖ Book Your Appointment:<br><a href='https://yourwebsite.com/book' target='_blank' style='color:#c9a24d;'>Click here to Book</a>"},
    {keywords:["branch","location","address"], reply:"üìç Glowx Salon Branches:<br>Karachi ‚Äì Nazimabad, Bahadurabad, Lyari<br>Lahore<br>Nazeerabad"},
    {keywords:["offers","discount"], reply:"üéÅ Current Offers:<br>‚Ä¢ Weekdays Facial 10% OFF<br>‚Ä¢ Bridal Deals<br>‚Ä¢ Seasonal Discounts"},
    {keywords:["contact","whatsapp","phone"], reply:"üìû Contact Us:<br>WhatsApp: <a href='https://wa.me/923001234567' target='_blank' style='color:#c9a24d;'>+92 300 1234567</a><br>Phone support available"}
  ];

  let found=false;
  for(let r of replies){
    for(let k of r.keywords){
      if(msg.includes(k)){ addBotMessage(r.reply); found=true; break; }
    }
    if(found) break;
  }
  if(!found) addBotMessage("Sorry, I could not understand. You can ask about services, price, booking, branches, offers, or contact.");
}

function addBotMessage(text){
  body.insertAdjacentHTML('afterbegin', `<div class="msg bot">${text}
    <div class="msg-options">
      <button onclick="editMsg(this)">‚úèÔ∏è Edit</button>
      <button onclick="copyMsg(this)">üìã Copy</button>
      <button onclick="replyMsg(this)">‚Ü©Ô∏è Reply</button>
    </div>
  </div>`);
  body.scrollTo({top:0, behavior:"smooth"});
}

// Edit / Delete / Copy / Reply
function deleteMsg(btn,isUser=false){
  if(isUser){ btn.closest(".msg").remove(); }
  else{ alert("Bot message cannot be deleted"); }
}

function editMsg(btn){
  let msgDiv=btn.closest(".msg");
  let txt=msgDiv.firstChild.textContent;
  let n=prompt("Edit your message:",txt);
  if(n!==null && n.trim()!==""){ msgDiv.firstChild.textContent=n; }
}

function copyMsg(btn){
  navigator.clipboard.writeText(btn.closest(".msg").firstChild.textContent);
  alert("Message copied!");
}

function replyMsg(btn){
  let msgText=btn.closest(".msg").firstChild.textContent;
  input.value=msgText; input.focus();
}
</script>
</body>
</html>
